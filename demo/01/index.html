<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>CSS demo</title>
    <link rel="stylesheet" href="./css/index.css">

</head>
<body>

<div class="demo-wrapper">
    <div class="demo-title">1、跟随鼠标方向进入动效导航</div>
    <ul id="nav" class="clearfix">
        <li class="active">顶部</li>
        <li>水波纹</li>
        <li>仿ios按钮</li>
        <li>边框转动效果</li>
        <li>两种小球移动效果</li>
    </ul>
</div>

<div class="demo-wrapper">
    <div class="demo-title">2、水波纹</div>
    <div id="water-ripple">

    </div>
</div>

<div class="demo-wrapper">
    <div class="demo-title">3、仿ios按钮</div>
    <div id="toggle">
        <input type="checkbox" class="check">
        <b class="b track"></b>
        <b class="b switch"></b>
    </div>
</div>

<div class="demo-wrapper">
    <div class="demo-title">4、边框转动效果</div>
    <div id="rotary-border">
        <div class="box">

        </div>
    </div>
</div>

<div class="demo-wrapper">
    <div class="demo-title">5、两种小球移动效果</div>
    <div id="ball-move" class="clearfix">
        <div class="box">
            <ul class="lists list1">
                <li class="list active"></li>
                <li class="list"></li>
                <li class="list"></li>
            </ul>
        </div>
        <div class="box">
            <ul class="lists list2">
                <li class="list" data-i="0"></li>
                <li class="list" data-i="1"></li>
                <li class="list" data-i="2"></li>
                <li class="active"></li>
            </ul>
        </div>
    </div>
</div>



<div id="bottom">
    js动效来自<a href="https://github.com/wuyuanaaa/yuanaaa.js/tree/master/3.0">yuanaaa3.0.js</a>
</div>

</body>
</html>
<script src="https://js.ykclass.com/frame/jquery/v2.1.4/jquery.min.js"></script>
<script src="./js/yuanaaa3.0.js"></script>
<script>
    $(function () {
        // 导航栏
        $_y.scrollPage.init('.demo-wrapper', {
            navEl: '#nav',
            listActiveClass: 'active',
            count: 100,
            animateTime: 600
        });

        $_y.fixedTop.init('#nav');

        // 水波纹
        (function () {
            var mx, my, z = 2, $waterRipple = $('#water-ripple');

            $waterRipple.on('click', creatWave);

            function creatWave(e) {
                mx = e.pageX;
                my = e.pageY;
                z = z + 1;
                wave(mx, my, z);
            }

            function wave(i, j, k) {
                $waterRipple.append(
                    '<div class="wave-position water' + k + '" style="z-index:' + k + ';top:' + (j - 150) + 'px;left:' + (i - 150) + 'px;">' +
                    '<div class="wave wave5"></div>' +
                    '<div class="wave wave4"></div>' +
                    '<div class="wave wave3"></div>' +
                    '<div class="wave wave2"></div>' +
                    '<div class="wave wave1"></div>' +
                    '<div class="wave wave0"></div>' +
                    '</div>'
                );
                setTimeout(function () {
                    $('.water' + k).remove();  // 清除已经完成动画的元素
                }, 3000);
            }
        })();

        // 小球移动
        (function () {
            var demo2 = document.querySelector('.list2');
            var lists2 = demo2.querySelectorAll('.list');
            var active = demo2.querySelector('.active');
            var max = lists2.length;
            var count = 0;

            demo2.addEventListener('click',function (e) {
                var e = e || window.event;
                var target = e.target;
                if(target.classList.contains('list')) {
                    changeCount(target.dataset.i);
                }
            });
            function changeCount(num) {
                if(num > count){
                    active.classList.remove('activeToLeft');
                    active.classList.add('activeToRight');
                    changeStyle(num);
                    count = num;
                }else {
                    active.classList.remove('activeToRight');
                    active.classList.add('activeToLeft');
                    changeStyle(num);
                    count = num;
                }
            }
            function changeStyle(num) {
                active.style.left = num *(20 + 20) + 'px';
                active.style.right = (max - num -1) *(20 + 20) + 'px';
            }

            var demo1 = document.querySelector('.list1');

            changeActive(demo1);

            function changeActive(demo) {
                demo.addEventListener('click',function (e) {
                    var e = e || window.event;
                    var target = e.target;
                    if(target.tagName == 'LI'){
                        document.querySelector('.active').classList.remove('active');
                        target.classList.add('active');
                    }
                })
            }
        })()

    })

</script>
